{
    "jobs" : [{
            "name" : "boot",
            "cmds" : [
                "mkdir /dev/usb-ffs/devtest 0777 root root",
                "mkdir /config/usb_gadget/g1/functions/ffs.devtest",
                "mount functionfs devtest /dev/usb-ffs/devtest uid=0,gid=0"
            ]
    }, {
            "name" : "param:usb_device_add",
            "condition" : "sys.usb.ffs.devtest.add=1",
            "cmds" : [
                "setparam sys.usb.ffs.devtest.add 0",
                "stop hdcd",
                "sleep 4",
                "write /config/usb_gadget/g1/UDC none",
                "rm /config/usb_gadget/g1/configs/b.1/f1",
                "rm /config/usb_gadget/g1/configs/b.1/f2",
                "rm /config/usb_gadget/g1/configs/b.1/f3",
                "rm /config/usb_gadget/g1/configs/b.1/f4",
                "rm /config/usb_gadget/g1/configs/b.1/f5",
                "rm /config/usb_gadget/g1/configs/b.1/f6",
                "write /config/usb_gadget/g1/idVendor 0x12D1",
                "write /config/usb_gadget/g1/idProduct 0xDCBA",
                "write /config/usb_gadget/g1/os_desc/use 1",
                "write /config/usb_gadget/g1/strings/0x409/product UsbTestDevice",
                "write /config/usb_gadget/g1/strings/0x409/manufacturer hwyml",
                "write /config/usb_gadget/g1/configs/b.1/strings/0x409/configuration devtest",
                "symlink /config/usb_gadget/g1/functions/ffs.devtest /config/usb_gadget/g1/configs/b.1/f1",
                "write /config/usb_gadget/g1/UDC ${sys.usb.controller}"
            ]
        }
    ]
}
